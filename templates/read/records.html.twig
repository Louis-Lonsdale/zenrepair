{% extends "base.html.twig" %}

{% block nav %}
    {% include "/components/nav.html.twig" %}
{% endblock %}

{% block main %}

<div class="row-span-full col-start-3 col-span-10 flex flex-col justify-start align-middle items-start">

    <div class="w-full mb-6 px-6 py-8 flex flex-col justify-center align-middle items-center bg-violet-500">
        <div class="w-full mb-8 flex flex-row justify-between align-middle items-center">
            <h2 class="font-bold text-3xl text-white">{{ page.context.Name }}s</h2>
            <a href="#" class="px-4 py-2 text-sm text-black hover:text-lime-700 box-shadow-black border border-black bg-lime-300 hover:bg-lime-100">New {{ page.context.Name }}</a>
        </div>

        <div class="w-full mb-2 flex flex-row justify-start align-middle items-center">
            <form method="POST">
                <input type="text" name="search" id="search" placeholder="Search {{ page.context.name }}s..." class="form-input mr-2 text-sm box-shadow-black focus:box-shadow-black border border-black bg-white focus:ring-transparent">
                <select id="order_by" name="order_by" class="form-select pr-10 text-sm box-shadow-black focus:box-shadow-black border border-black focus:border-lime-500 bg-white focus:ring-transparent">
                    <option value="name_asc">order by updated ascending</option>
                    <option value="name_desc">order by updated descending</option>
                </select>
            </form>
        </div>
    </div>

    <div hx-get="{{ globals.base_url }}/{{ page.context.name }}s/get" hx-trigger="load" hx-swap="" class="w-full">
        <!-- Result is fetched using AJAX request -->

        <div class="w-full pl-10 pt-4">
            <h3 class="font-bold text-lg text-stone-600">No records found.</h3>
            <p class="text-md text-stone-500">Is your database connection configured properly?</p>
        </div>
    </div>
</div>

{% endblock %}