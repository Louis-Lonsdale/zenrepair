{% extends "base.html.twig" %}

{% block nav %}
    {% include "/components/nav.html.twig" %}
{% endblock %}

{% block main %}

<div class="row-span-full col-start-3 col-span-10 flex flex-col justify-start align-middle items-start">

    <div class="w-full mb-6 px-6 py-8 flex flex-col justify-center align-middle items-center bg-violet-500">
        <div class="w-full mb-8 flex flex-row justify-between align-middle items-center">
            <h2 class="font-bold text-3xl text-white">{{ page.context.Name }}s</h2>
            <a href="#" class="px-4 py-2 text-sm text-black hover:text-lime-700 box-shadow-black border border-black bg-lime-300 hover:bg-lime-100">New {{ page.context.Name }}</a>
        </div>

        <div class="w-full mb-2 flex flex-row justify-start align-middle items-center">
            <form method="POST">
                <input type="text" name="search" id="search" placeholder="Search {{ page.context.name }}s..." class="form-input mr-2 text-sm box-shadow-black focus:box-shadow-black border border-black bg-white focus:ring-transparent">
                <select id="order_by" name="order_by" class="form-select pr-10 text-sm box-shadow-black focus:box-shadow-black border border-black focus:border-lime-500 bg-white focus:ring-transparent">
                    <option value="name_asc">order by updated ascending</option>
                    <option value="name_desc">order by updated descending</option>
                </select>
            </form>
        </div>
    </div>

    <div hx-get="{{ globals.base_url }}/{{ page.context.name }}s/get" hx-trigger="load" hx-swap="" class="w-full px-6">
        <div class="hidden">
            <div class="w-full px-4 py-2 border-b border-black">
                <h4 class="font-bold text-xs text-stone-600">Table</h4>
            </div>
            <table class="w-full table-auto">
                <thead class="text-sm text-left text-stone-600 border-b border-black bg-stone-200">
                    <th class="pl-4 py-1.5">Title</th>
                    <th class="pl-4">Subject</th>
                    <th class="pl-4">Technician</th>
                    <th class="pl-4">Customer</th>
                    <th class="pl-4">Device</th>
                    <th class="pl-4">Created</th>
                    <th class="pl-4">Updated</th>
                </thead>
                <tbody class="divide-y divide-black">
                    <tr class="hover:bg-stone-100">
                        <td class="pl-4 py-2.5"><a href="#" class="hover:underline hover:text-violet-600">Battery Replacement</a></td>
                        <td class="pl-4">Battery</td>
                        <td class="pl-4 py-2.5"><a href="#" class="hover:underline hover:text-violet-600">Benjamin Moss</a></td>
                        <td class="pl-4 py-2.5"><a href="#" class="hover:underline hover:text-violet-600">Harry Cat</a></td>
                        <td class="pl-4 py-2.5"><a href="#" class="hover:underline hover:text-violet-600">Banana bPhone 6</a></td>
                        <td class="pl-4">02-01-23</td>
                        <td class="pl-4">02-01-23 12:00</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

{% endblock %}